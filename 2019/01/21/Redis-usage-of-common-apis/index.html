<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="Don't quit, you deserve what you want."><title>Redis: usage of common apis | JOHOO'S BLOG</title><link rel="stylesheet" type="text/css" href="//fonts.neworld.org/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.1"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.1"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="stylesheet" href="/css/prism.css" type="text/css"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Redis: usage of common apis</h1><a id="logo" href="/.">JOHOO'S BLOG</a><p class="description"></p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> Home</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a><a href="/about/"><i class="fa fa-user"> About</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="Arama"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">Redis: usage of common apis</h1><div class="post-meta"><a href="/2019/01/21/Redis-usage-of-common-apis/#comments" class="comment-count"><i data-disqus-identifier="2019/01/21/Redis-usage-of-common-apis/" class="disqus-comment-count"></i>Guestbook</a><p><span class="date">Jan 21, 2019</span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>Hits</i></i></span></p></div><div class="post-content"><p>整理一下Redis常用的api用法。</p>
<p><strong>Redis Keys</strong></p>
<ul>
<li>不要用太长的key。不仅耗费内存，而且在查找的时候非常花时间。</li>
<li>不要用太短的key。因为可读性太差。</li>
<li>最大允许的key是512MB。</li>
</ul>
<p><strong>Redis Strings</strong></p>
<p><em>简单的设置和读取:</em></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; SET hello world</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; GET hello</span><br><span class="line">"world"</span><br></pre></td></tr></table></figure>
<p>通过<code>set</code>来设置值，通过<code>get</code>来取值。注意<code>set</code>会覆盖之前的值。设置的值不能大于512MB.<code>set</code>还有2个选项nx|xx, 来控制当key不存在时设置的结果。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; SET hello redis nx</span><br><span class="line">(nil)</span><br><span class="line">127.0.0.1:6379&gt; SET hello redis xx</span><br><span class="line">OK</span><br></pre></td></tr></table></figure></p>
<p><em>值的增/减</em><br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; SET counter 100</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; INCR counter</span><br><span class="line">(integer) 101</span><br><span class="line">127.0.0.1:6379&gt; INCR counter</span><br><span class="line">(integer) 102</span><br><span class="line">127.0.0.1:6379&gt; INCRBY counter 98</span><br><span class="line">(integer) 200</span><br><span class="line">127.0.0.1:6379&gt; DECR counter</span><br><span class="line">(integer) 199</span><br><span class="line">127.0.0.1:6379&gt; DECR counter</span><br><span class="line">(integer) 198</span><br><span class="line">127.0.0.1:6379&gt; DECRBY counter 98</span><br><span class="line">(integer) 100</span><br></pre></td></tr></table></figure></p>
<p>需要指出的是，<code>INCR</code>, <code>INCRBY</code>, <code>DECR</code>, <code>DECRBY</code>操作都是原子级别的，因此不存在竞争态的问题，并发时可以放心使用。</p>
<p><em>赋新值并返回旧值</em><br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; GETSET car benze</span><br><span class="line">(nil)</span><br><span class="line">127.0.0.1:6379&gt; GETSET car bmw</span><br><span class="line">"benze"</span><br><span class="line">127.0.0.1:6379&gt; GETSET car porsche</span><br><span class="line">"bmw"</span><br><span class="line">127.0.0.1:6379&gt; GET car</span><br><span class="line">"porsche"</span><br></pre></td></tr></table></figure></p>
<p><code>GETSET</code>可以用来给key设置新值并返回其旧值。</p>
<p><em>批量设置/读取</em><br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; MSET a 1 b 2 c 3</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; MGET a b c</span><br><span class="line">1) "1"</span><br><span class="line">2) "2"</span><br><span class="line">3) "3"</span><br></pre></td></tr></table></figure></p>
<p><strong>更改/查询key空间</strong><br>确认key是否存在<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; SET car Porsche</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; EXISTS car</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; EXISTS plane</span><br><span class="line">(integer) 0</span><br></pre></td></tr></table></figure></p>
<p>确认key的类型<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; TYPE car</span><br><span class="line">string</span><br><span class="line">127.0.0.1:6379&gt; TYPE plane</span><br><span class="line">none</span><br></pre></td></tr></table></figure></p>
<p>删除key<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; DEL car</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; DEL plane</span><br><span class="line">(integer) 0</span><br></pre></td></tr></table></figure></p>
<p><strong>设置过期时间</strong><br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">127<span class="selector-class">.0</span><span class="selector-class">.0</span><span class="selector-class">.1</span><span class="selector-pseudo">:6379</span>&gt; <span class="selector-tag">SET</span>  <span class="selector-tag">car</span> <span class="selector-tag">porsche</span></span><br><span class="line"><span class="selector-tag">OK</span></span><br><span class="line">127<span class="selector-class">.0</span><span class="selector-class">.0</span><span class="selector-class">.1</span><span class="selector-pseudo">:6379</span>&gt; <span class="selector-tag">EXPIRE</span> <span class="selector-tag">car</span> 3</span><br><span class="line">(<span class="selector-tag">integer</span>) 1</span><br><span class="line">127<span class="selector-class">.0</span><span class="selector-class">.0</span><span class="selector-class">.1</span><span class="selector-pseudo">:6379</span>&gt; <span class="selector-tag">EXISTS</span> <span class="selector-tag">car</span></span><br><span class="line">(<span class="selector-tag">integer</span>) 1</span><br><span class="line">127<span class="selector-class">.0</span><span class="selector-class">.0</span><span class="selector-class">.1</span><span class="selector-pseudo">:6379</span>&gt; <span class="selector-tag">EXISTS</span> <span class="selector-tag">car</span></span><br><span class="line">(<span class="selector-tag">integer</span>) 0</span><br><span class="line">127<span class="selector-class">.0</span><span class="selector-class">.0</span><span class="selector-class">.1</span><span class="selector-pseudo">:6379</span>&gt; <span class="selector-tag">SET</span> <span class="selector-tag">car</span> <span class="selector-tag">benz</span> <span class="selector-tag">ex</span> 3</span><br><span class="line"><span class="selector-tag">OK</span></span><br><span class="line">127<span class="selector-class">.0</span><span class="selector-class">.0</span><span class="selector-class">.1</span><span class="selector-pseudo">:6379</span>&gt; <span class="selector-tag">EXISTS</span> <span class="selector-tag">car</span></span><br><span class="line">(<span class="selector-tag">integer</span>) 1</span><br><span class="line">127<span class="selector-class">.0</span><span class="selector-class">.0</span><span class="selector-class">.1</span><span class="selector-pseudo">:6379</span>&gt; <span class="selector-tag">EXISTS</span> <span class="selector-tag">car</span></span><br><span class="line">(<span class="selector-tag">integer</span>) 0</span><br></pre></td></tr></table></figure></p>
<p>设置超时可以使用<code>EXPIRE</code>命令，也可以直接在<code>SET</code>命令中设置。</p>
<p><em>检查还有多久失效</em><br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; SET car porsche ex 10</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; TTL car</span><br><span class="line">(integer) 7</span><br><span class="line">127.0.0.1:6379&gt; TTL car</span><br><span class="line">(integer) 4</span><br><span class="line">127.0.0.1:6379&gt; TTL car</span><br><span class="line">(integer) -2</span><br></pre></td></tr></table></figure></p>
<p>命令<code>TTL</code>返回key的还有多久会失效。如果返回值是-2，表示key已经不存在；如果返回值是-1，表示key存在但是没有设置失效时间，即永久有效。<br>以上超时的单位是秒，如果想以毫秒来操作，对应的命令是<code>PEXPIRE</code>, <code>PTTL</code>.</p>
<p><strong>Redis Lists</strong><br>Redis的List与Python list不同之处在于，后者其实是数组，而前者是链表实现的。因此，Redis List执行<code>LPUSH</code>命令在左侧添加元素是非常快的，即便List有数百万的元素，但是根据序号查找某个元素的时候就会很慢了。</p>
<p><em>添加元素</em><br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; LPUSH mylist A</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; LPUSH mylist B</span><br><span class="line">(integer) 2</span><br><span class="line">127.0.0.1:6379&gt; RPUSH mylist C</span><br><span class="line">(integer) 3</span><br><span class="line">127.0.0.1:6379&gt; LRANGE mylist 0 -1</span><br><span class="line">1) "B"</span><br><span class="line">2) "A"</span><br><span class="line">3) "C"</span><br></pre></td></tr></table></figure></p>
<p><em>选取元素</em><br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; LRANGE mylist 0 -1</span><br><span class="line">1) "B"</span><br><span class="line">2) "A"</span><br><span class="line">3) "C"</span><br><span class="line">127.0.0.1:6379&gt; LRANGE mylist 0 0</span><br><span class="line">1) "B"</span><br></pre></td></tr></table></figure></p>
<p><code>LRANGE</code>命令用来根据索引查找元素，0表示第一个元素，-1表示最后一个元素。<br><code>LPUSH</code>, <code>RPUSH</code>可以一次插入多个值:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; LPUSH mylist D E F </span><br><span class="line">(integer) 6</span><br><span class="line">127.0.0.1:6379&gt; RPUSH mylist X Y Z OK</span><br><span class="line">(integer) 10</span><br><span class="line">127.0.0.1:6379&gt; LRANGE mylist 0 -1</span><br><span class="line"> 1) "F"</span><br><span class="line"> 2) "E"</span><br><span class="line"> 3) "D"</span><br><span class="line"> 4) "B"</span><br><span class="line"> 5) "A"</span><br><span class="line"> 6) "C"</span><br><span class="line"> 7) "X"</span><br><span class="line"> 8) "Y"</span><br><span class="line"> 9) "Z"</span><br><span class="line">10) "OK"</span><br></pre></td></tr></table></figure></p>
<p>注意<code>LPUSH</code>多个值的时候，最后一个在第一位。</p>
<p><em>删除元素</em><br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; lrange mylist 0 -1</span><br><span class="line"> 1) "F"</span><br><span class="line"> 2) "E"</span><br><span class="line"> 3) "D"</span><br><span class="line"> 4) "B"</span><br><span class="line"> 5) "A"</span><br><span class="line"> 6) "C"</span><br><span class="line"> 7) "X"</span><br><span class="line"> 8) "Y"</span><br><span class="line"> 9) "Z"</span><br><span class="line">10) "OK"</span><br><span class="line">127.0.0.1:6379&gt; RPOP mylist</span><br><span class="line">"OK"</span><br><span class="line">127.0.0.1:6379&gt; RPOP mylist</span><br><span class="line">"Z"</span><br><span class="line">127.0.0.1:6379&gt; LPOP mylist</span><br><span class="line">"F"</span><br><span class="line">127.0.0.1:6379&gt; LPOP mylist</span><br><span class="line">"E"</span><br></pre></td></tr></table></figure></p>
<p><code>LPOP</code>, <code>RPOP</code>被用来在左侧或者右侧取值并删除。</p>
<p><em>裁剪List</em><br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">127.0.0.1:6379&gt;</span> LRANGE mylist <span class="number">0</span> -<span class="number">1</span></span><br><span class="line"><span class="number">1</span>) <span class="string">"D"</span></span><br><span class="line"><span class="number">2</span>) <span class="string">"B"</span></span><br><span class="line"><span class="number">3</span>) <span class="string">"A"</span></span><br><span class="line"><span class="number">4</span>) <span class="string">"C"</span></span><br><span class="line"><span class="number">5</span>) <span class="string">"X"</span></span><br><span class="line"><span class="number">6</span>) <span class="string">"Y"</span></span><br><span class="line"><span class="meta">127.0.0.1:6379&gt;</span> LTRIM mylist <span class="number">2</span> <span class="number">4</span></span><br><span class="line">OK</span><br><span class="line"><span class="meta">127.0.0.1:6379&gt;</span> LRANGE mylist <span class="number">0</span> -<span class="number">1</span></span><br><span class="line"><span class="number">1</span>) <span class="string">"A"</span></span><br><span class="line"><span class="number">2</span>) <span class="string">"C"</span></span><br><span class="line"><span class="number">3</span>) <span class="string">"X"</span></span><br></pre></td></tr></table></figure></p>
<p><code>LTRIM</code>命令可以用来裁剪List, 因此同样的，可以在每次<code>LPUSH</code>之后使用<code>LTRIM</code>裁剪，保证List元素数量不超过一个特定值:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; LPUSH list_has_max_len A</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; LTRIM list_has_max_len 0 9</span><br><span class="line">OK</span><br></pre></td></tr></table></figure></p>
<p>上例保证List最多只有10个最新的元素。</p>
<p><em>List上的阻塞操作</em><br>经典的生产者/消费者模型中也可以使用Redis List. 我们想要消费者在List中没有元素的时候阻塞直到生产者将元素放入List中为止。Redis提供了<code>BLPOP</code>, <code>BRPOP</code>命令来达到这个效果:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; BLPOP fakelist 5</span><br><span class="line">(nil)</span><br><span class="line">(5.07s)</span><br><span class="line">127.0.0.1:6379&gt; BRPOP fakelist 3</span><br><span class="line">(nil)</span><br><span class="line">(3.02s)</span><br><span class="line">127.0.0.1:6379&gt; BRPOP fakelist 0</span><br><span class="line">1) "fakelist"</span><br><span class="line">2) "1"</span><br><span class="line">(27.09s)</span><br></pre></td></tr></table></figure></p>
<p>需要传递等待时间: 0表示无限等待。如果达到等待时间仍旧没有值，则返回<code>nil</code>.<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; BRPOP fakelist1 fakelist2 0</span><br><span class="line">1) "fakelist1"</span><br><span class="line">2) "apple"</span><br><span class="line">(13.10s)</span><br></pre></td></tr></table></figure></p>
<p>可以同时监控多个List, 只要任意一个有值就返回。正式因为这一特性，所以返回值是二元的: List名，值.<br>需要指出的是，阻塞对于client来说是有顺序的，先访问的先得到值，以此类推。</p>
<p><em>List长度</em><br><code>LLEN</code>命令用来求List的长度:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; del mylist</span><br><span class="line">(integer) 0</span><br><span class="line">127.0.0.1:6379&gt; llen mylist</span><br><span class="line">(integer) 0</span><br><span class="line">127.0.0.1:6379&gt; lpush mylist a b c d e f g</span><br><span class="line">(integer) 7</span><br><span class="line">127.0.0.1:6379&gt; llen mylist</span><br><span class="line">(integer) 7</span><br></pre></td></tr></table></figure></p>
<p>如果List不存在,<code>LLEN</code>返回0，就好像已经存在一个空List一样。<br>空List的创建跟删除不用程序员去操作，Redis会处理好这一切。不光是List, Streams（自动删除不一样）, Sets, Sorted Sets, Hashes也是如此。</p>
<p><strong>Redis Hashes</strong><br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; HMSET user:1000 username antirez birthyear 1977 verified 1</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; HGET user:1000 username</span><br><span class="line">"antirez"</span><br><span class="line">127.0.0.1:6379&gt; HGET user:1000 birthyear</span><br><span class="line">"1977"</span><br><span class="line">127.0.0.1:6379&gt; HGET user:1000 verified</span><br><span class="line">"1"</span><br><span class="line">127.0.0.1:6379&gt; HGETALL user:1000</span><br><span class="line">1) "username"</span><br><span class="line">2) "antirez"</span><br><span class="line">3) "birthyear"</span><br><span class="line">4) "1977"</span><br><span class="line">5) "verified"</span><br><span class="line">6) "1"</span><br><span class="line">127.0.0.1:6379&gt; HMGET user:1000 username verified</span><br><span class="line">1) "antirez"</span><br><span class="line">2) "1"</span><br><span class="line">127.0.0.1:6379&gt; HMGET user:1000 username verified key-not-existed</span><br><span class="line">1) "antirez"</span><br><span class="line">2) "1"</span><br><span class="line">3) (nil)</span><br></pre></td></tr></table></figure></p>
<p><code>HMSET</code>一次设置多个键值对，<code>HGET</code>一次获取一个值，<code>HMGET</code>一次获取多个值，<code>HGETALL</code>获取所有值。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; HINCRBY user:1000 birthyear 1</span><br><span class="line">(integer) 1978</span><br><span class="line">127.0.0.1:6379&gt; HGET user:1000 birthyear</span><br><span class="line">"1978"</span><br></pre></td></tr></table></figure>
<p><code>HINCRBY</code>可以单独增加某一个键的值。</p>
<p><strong>Redis Sets</strong></p>
<p>Redis Sets是一组无序的字符串。</p>
<p><code>SADD</code>添加元素:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; SADD myset 1 3 5 </span><br><span class="line">(integer) 3</span><br></pre></td></tr></table></figure>
<p><code>SMEMBERS</code>查看集合的元素:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; SMEMBERS myset</span><br><span class="line">1) "1"</span><br><span class="line">2) "3"</span><br><span class="line">3) "5"</span><br></pre></td></tr></table></figure>
<p><code>SISMEMBER</code>查看是否是其中的元素:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; SISMEMBER myset 1</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; SISMEMBER myset 11</span><br><span class="line">(integer) 0</span><br></pre></td></tr></table></figure>
<p><code>SINTER</code>查看交集:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; SADD key1 a b c</span><br><span class="line">(integer) 3</span><br><span class="line">127.0.0.1:6379&gt; SADD key2 c f g</span><br><span class="line">(integer) 3</span><br><span class="line">127.0.0.1:6379&gt; SADD key3 b c d</span><br><span class="line">(integer) 3</span><br><span class="line">127.0.0.1:6379&gt; SINTER key1 key2 key3</span><br><span class="line">1) "c"</span><br></pre></td></tr></table></figure></p>
<p><code>SPOP</code>随机删除集合中的某几个值并返回:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; SADD key1 a b c d </span><br><span class="line">(integer) 4</span><br><span class="line">127.0.0.1:6379&gt; SPOP key1</span><br><span class="line">"b"</span><br><span class="line">127.0.0.1:6379&gt; SPOP key1 4</span><br><span class="line">1) "c"</span><br><span class="line">2) "d"</span><br><span class="line">3) "a"</span><br><span class="line">127.0.0.1:6379&gt; SMEMBERS key1</span><br><span class="line">(empty list or set)</span><br></pre></td></tr></table></figure></p>
<p><code>SUNION</code>联合多个集合:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; SMEMBERS key1</span><br><span class="line">1) "b"</span><br><span class="line">2) "d"</span><br><span class="line">3) "c"</span><br><span class="line">4) "a"</span><br><span class="line">127.0.0.1:6379&gt; SMEMBERS key2</span><br><span class="line">1) "e"</span><br><span class="line">2) "h"</span><br><span class="line">3) "g"</span><br><span class="line">4) "f"</span><br><span class="line">127.0.0.1:6379&gt; SUNION key1 key2</span><br><span class="line">1) "g"</span><br><span class="line">2) "h"</span><br><span class="line">3) "b"</span><br><span class="line">4) "e"</span><br><span class="line">5) "d"</span><br><span class="line">6) "c"</span><br><span class="line">7) "f"</span><br><span class="line">8) "a"</span><br></pre></td></tr></table></figure></p>
<p><code>SUNIONSTORE</code>在<code>SUNION</code>的基础上增加了赋值功能，将联合的结果保存到新的对象上:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; SUNIONSTORE key key1 key2</span><br><span class="line">(integer) 8</span><br><span class="line">127.0.0.1:6379&gt; SMEMBERS key</span><br><span class="line">1) "g"</span><br><span class="line">2) "h"</span><br><span class="line">3) "b"</span><br><span class="line">4) "e"</span><br><span class="line">5) "d"</span><br><span class="line">6) "c"</span><br><span class="line">7) "f"</span><br><span class="line">8) "a"</span><br></pre></td></tr></table></figure></p>
<p>因此<code>SUNIONSTORE</code>可以用来复制集合。如:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; SMEMBERS key1</span><br><span class="line">1) "b"</span><br><span class="line">2) "d"</span><br><span class="line">3) "c"</span><br><span class="line">4) "a"</span><br><span class="line">127.0.0.1:6379&gt; SUNIONSTORE key0 key1</span><br><span class="line">(integer) 4</span><br><span class="line">127.0.0.1:6379&gt; SMEMBERS key0</span><br><span class="line">1) "b"</span><br><span class="line">2) "c"</span><br><span class="line">3) "d"</span><br><span class="line">4) "a"</span><br></pre></td></tr></table></figure></p>
<p><code>SCARD</code>获取集合元素的个数:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; SCARD key1</span><br><span class="line">(integer) 4</span><br></pre></td></tr></table></figure></p>
<p><code>SRANDMEMBER</code>随机获取元素但不会删除它。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; SMEMBERS key1</span><br><span class="line">1) "b"</span><br><span class="line">2) "d"</span><br><span class="line">3) "c"</span><br><span class="line">4) "a"</span><br><span class="line">127.0.0.1:6379&gt; SRANDMEMBER key1</span><br><span class="line">"b"</span><br><span class="line">127.0.0.1:6379&gt; SRANDMEMBER key1 2</span><br><span class="line">1) "c"</span><br><span class="line">2) "a"</span><br></pre></td></tr></table></figure></p>
<p><strong>Redis Sorted Sets</strong><br>有序集合有点介于Set和Hash之间，因为每个元素都要有一个Score, 有序集合通过Score排序，如果Score相同，则比较value的字典序。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; ZADD hackers 1940 "Alan Kay"</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; ZADD hackers 1957 "Sophie Wilson"</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; ZADD hackers 1953 "Richard Stallman"</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; ZADD hackers 1949 "Anita Borg"</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; ZADD hackers 1969 "Linus Torvalds"</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; ZADD hackers 1912 "Alan Turing"</span><br><span class="line">(integer) 1</span><br></pre></td></tr></table></figure></p>
<p>以上是以出生年份作为Score, 名字作为Value.<br>查看内容:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; ZRANGE hackers 0 -1</span><br><span class="line">1) "Alan Turing"</span><br><span class="line">2) "Alan Kay"</span><br><span class="line">3) "Anita Borg"</span><br><span class="line">4) "Richard Stallman"</span><br><span class="line">5) "Sophie Wilson"</span><br><span class="line">6) "Linus Torvalds"</span><br></pre></td></tr></table></figure></p>
<p>倒序看:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; ZREVRANGE hackers 0 -1</span><br><span class="line">1) "Linus Torvalds"</span><br><span class="line">2) "Sophie Wilson"</span><br><span class="line">3) "Richard Stallman"</span><br><span class="line">4) "Anita Borg"</span><br><span class="line">5) "Alan Kay"</span><br><span class="line">6) "Alan Turing"</span><br></pre></td></tr></table></figure></p>
<p>同时查看Score:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; ZRANGE hackers 0 -1 withscores</span><br><span class="line"> 1) "Alan Turing"</span><br><span class="line"> 2) "1912"</span><br><span class="line"> 3) "Alan Kay"</span><br><span class="line"> 4) "1940"</span><br><span class="line"> 5) "Anita Borg"</span><br><span class="line"> 6) "1949"</span><br><span class="line"> 7) "Richard Stallman"</span><br><span class="line"> 8) "1953"</span><br><span class="line"> 9) "Sophie Wilson"</span><br><span class="line">10) "1957"</span><br><span class="line">11) "Linus Torvalds"</span><br><span class="line">12) "1969"</span><br></pre></td></tr></table></figure></p>
<p>筛选出Score在某一个范围的所有元素，比如找出1950年及之前出生的人：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; ZRANGEBYSCORE hackers -inf 1950 withscores</span><br><span class="line">1) "Alan Turing"</span><br><span class="line">2) "1912"</span><br><span class="line">3) "Alan Kay"</span><br><span class="line">4) "1940"</span><br><span class="line">5) "Anita Borg"</span><br><span class="line">6) "1949"</span><br></pre></td></tr></table></figure></p>
<p>删除某个范围内所有元素:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; ZRANGEBYSCORE hackers -inf 1940 </span><br><span class="line">1) "Alan Turing"</span><br><span class="line">2) "Alan Kay"</span><br><span class="line">127.0.0.1:6379&gt; ZREMRANGEBYSCORE hackers -inf 1940</span><br><span class="line">(integer) 2</span><br><span class="line">127.0.0.1:6379&gt; ZRANGEBYSCORE hackers -inf 1940 </span><br><span class="line">(empty list or set)</span><br></pre></td></tr></table></figure></p>
<p>查看排位:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; ZRANGE hackers 0 -1 withscores</span><br><span class="line">1) "Anita Borg"</span><br><span class="line">2) "1949"</span><br><span class="line">3) "Richard Stallman"</span><br><span class="line">4) "1953"</span><br><span class="line">5) "Sophie Wilson"</span><br><span class="line">6) "1957"</span><br><span class="line">7) "Linus Torvalds"</span><br><span class="line">8) "1969"</span><br><span class="line">127.0.0.1:6379&gt; ZRANK hackers "Richard Stallman"</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; ZRANK hackers "Anita Borg"</span><br><span class="line">(integer) 0</span><br><span class="line">127.0.0.1:6379&gt;</span><br></pre></td></tr></table></figure></p>
<p>倒序排名:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; ZREVRANK hackers "Anita Borg"</span><br><span class="line">(integer) 3</span><br></pre></td></tr></table></figure></p>
<p><em>Note:排名是从0开始</em><br>可以根据字典序进行筛选:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; ZRANGE hackers 0 -1 withscores</span><br><span class="line"> 1) "Alan Kay"</span><br><span class="line"> 2) "0"</span><br><span class="line"> 3) "Alan Turing"</span><br><span class="line"> 4) "0"</span><br><span class="line"> 5) "Anita Borg"</span><br><span class="line"> 6) "0"</span><br><span class="line"> 7) "Claude Shannon"</span><br><span class="line"> 8) "0"</span><br><span class="line"> 9) "Hedy Lamarr"</span><br><span class="line">10) "0"</span><br><span class="line">11) "Linus Torvalds"</span><br><span class="line">12) "0"</span><br><span class="line">13) "Richard Stallman"</span><br><span class="line">14) "0"</span><br><span class="line">15) "Sophie Wilson"</span><br><span class="line">16) "0"</span><br><span class="line">17) "Yukihiro Matsumoto"</span><br><span class="line">18) "0"</span><br><span class="line">127.0.0.1:6379&gt; ZRANGEBYLEX hackers [B [P</span><br><span class="line">1) "Claude Shannon"</span><br><span class="line">2) "Hedy Lamarr"</span><br><span class="line">3) "Linus Torvalds"</span><br></pre></td></tr></table></figure></p>
<p>如上，导入一批Score都为0的元素，然后列出Value在B与P之间的元素。<br><em>Note:更新元素很简单，直接调用<code>ZADD</code>即可。</em></p>
<p><strong>Bitmaps</strong><br>位图以一系列针对字符串的位操作。简单的设置和读取如下:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; SETBIT key 10 1</span><br><span class="line">(integer) 0</span><br><span class="line">127.0.0.1:6379&gt; GETBIT key 10</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; GETBIT key 11</span><br><span class="line">(integer) 0</span><br></pre></td></tr></table></figure></p>
<p><code>BITCOUNT</code>计算位被设置为1的个数:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; SETBIT key 0 1</span><br><span class="line">(integer) 0</span><br><span class="line">127.0.0.1:6379&gt; SETBIT key 10 0</span><br><span class="line">(integer) 0</span><br><span class="line">127.0.0.1:6379&gt; SETBIT key 20 1</span><br><span class="line">(integer) 0</span><br><span class="line">127.0.0.1:6379&gt; BITCOUNT key</span><br><span class="line">(integer) 2</span><br></pre></td></tr></table></figure></p>
</div><div class="tags"><a href="/tags/Redis/">Redis</a></div><div class="post-share"><div class="bdsharebuttonbox"><span style="float:left;line-height: 28px;height: 28px;font-size:16px;font-weight:blod">分享到：</span><a href="#" data-cmd="more" class="bds_more"></a><a href="#" data-cmd="mshare" title="分享到一键分享" class="bds_mshare"></a><a href="#" data-cmd="fbook" title="分享到Facebook" class="bds_fbook"></a><a href="#" data-cmd="twi" title="分享到Twitter" class="bds_twi"></a><a href="#" data-cmd="linkedin" title="分享到linkedin" class="bds_linkedin"></a><a href="#" data-cmd="youdao" title="分享到有道云笔记" class="bds_youdao"></a><a href="#" data-cmd="evernotecn" title="分享到印象笔记" class="bds_evernotecn"></a><a href="#" data-cmd="weixin" title="分享到微信" class="bds_weixin"></a><a href="#" data-cmd="qzone" title="分享到QQ空间" class="bds_qzone"></a><a href="#" data-cmd="tsina" title="分享到新浪微博" class="bds_tsina"></a></div></div><div class="post-nav"><a href="/2019/01/27/MongoDB-usage-of-common-apis/" class="pre">MongoDB: usage of common apis</a><a href="/2018/12/25/Dive-into-Algorithm-quicksort/" class="next">Dive into Algorithm:quicksort</a></div><div id="comments"><div id="disqus_thread"></div></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">Contents</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/05/11/996-lay-off-middle-crisis/">996&lay off&middle crisis</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/27/MongoDB-usage-of-common-apis/">MongoDB: usage of common apis</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/21/Redis-usage-of-common-apis/">Redis: usage of common apis</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/25/Dive-into-Algorithm-quicksort/">Dive into Algorithm:quicksort</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/18/Dive-into-Python-singleton/">Dive into Python: singleton</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/05/Dive-into-flask-principle-of-Context/">Dive into flask: principle of Context</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/11/30/Dive-into-flask-the-journey-of-one-request/">Dive into flask: journey of one request</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/11/22/beginner-to-Django-6/">beginner to Django 6</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/11/21/beginner-to-Django-5/">beginner to Django 5</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/11/19/beginner-to-Django-4/">beginner to Django 4</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-gui"> Categories</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Life/">Life</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/编程/">编程</a><span class="category-list-count">3</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> Tags</i></div><div class="tagcloud"><a href="/tags/Algorithm/" style="font-size: 15px;">Algorithm</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/life/" style="font-size: 15px;">life</a> <a href="/tags/MongoDB/" style="font-size: 15px;">MongoDB</a> <a href="/tags/Flask/" style="font-size: 15px;">Flask</a> <a href="/tags/Django/" style="font-size: 15px;">Django</a> <a href="/tags/Redis/" style="font-size: 15px;">Redis</a> <a href="/tags/生活/" style="font-size: 15px;">生活</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> Archive</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li></ul></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">Baidu Site Haritası</a> |  <a href="/atom.xml">RSS</a> |  <a href="/about/">About</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次</p><p><span> Copyright &copy;<a href="/." rel="nofollow">Johoo.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript" src="/js/search.json.js?v=2.0.1"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.1" async></script><script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":["mshare","weixin","tsina","qzone","linkedin","fbook","twi","print","renren","sqq","evernotecn","bdysc","tqq","tqf","bdxc","kaixin001","tieba","douban","bdhome","thx","ibaidu","meilishuo","mogujie","diandian","huaban","duitang","hx","fx","youdao","sdo","qingbiji","people","xinhua","mail","isohu","yaolan","wealink","ty","iguba","h163","copy"],"bdPic":"","bdStyle":"1","bdSize":"16"},"share":{},"image":{"viewList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"],"viewText":"分享到：","viewSize":"16"},"selectShare":{"bdContainerClass":null,"bdSelectMiniList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"]}};with(document)0[(getElementsByTagName('head')[0]||head).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script><script>var disqus_shortname = 'johoo';
var disqus_identifier = '2019/01/21/Redis-usage-of-common-apis/';
var disqus_title = 'Redis: usage of common apis';
var disqus_url = 'https://johoo26.github.io/2019/01/21/Redis-usage-of-common-apis/';
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//johoo.disqus.com/count.js" async></script><script type="text/javascript" src="//johoo.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></body></html>