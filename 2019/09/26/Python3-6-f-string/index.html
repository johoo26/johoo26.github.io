<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="Don't quit, you deserve what you want."><title>Python3.6 f-string | JOHOO'S BLOG</title><link rel="stylesheet" type="text/css" href="//fonts.neworld.org/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.1"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.1"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="stylesheet" href="/css/prism.css" type="text/css"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Python3.6 f-string</h1><a id="logo" href="/.">JOHOO'S BLOG</a><p class="description"></p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> Home</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a><a href="/about/"><i class="fa fa-user"> About</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="Arama"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">Python3.6 f-string</h1><div class="post-meta"><a href="/2019/09/26/Python3-6-f-string/#comments" class="comment-count"><i data-disqus-identifier="2019/09/26/Python3-6-f-string/" class="disqus-comment-count"></i>Guestbook</a><p><span class="date">Sep 26, 2019</span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>Hits</i></i></span></p></div><div class="post-content"><p>偶然间发现Python3.6起支持一种新的字符串格式方法：f-strings. 用过之后只想说两个字：<strong>真香</strong>。</p>
<h3 id="为什么你要用f-strings"><a href="#为什么你要用f-strings" class="headerlink" title="为什么你要用f-strings"></a>为什么你要用f-strings</h3><p>传统的字符串格式格式化主要有两种用法：%, format. 这两种方式都有缺点。</p>
<h4 id="格式化缺点"><a href="#格式化缺点" class="headerlink" title="%格式化缺点"></a>%格式化缺点</h4><ul>
<li>支持的类型有限：<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">%</span><span class="bash">-formatting is limited as to the types it supports. Only ints, strs, and doubles can be formatted. All other types are either not supported, or converted to one of these types before formatting.</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>比如：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">42</span>]: date = datetime.date(<span class="number">2019</span>, <span class="number">10</span>, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">43</span>]: <span class="string">'&#123;date&#125; was on a &#123;date:%A&#125;'</span>.format(date=date)</span><br><span class="line">Out[<span class="number">43</span>]: <span class="string">'2019-10-01 was on a Tuesday'</span></span><br></pre></td></tr></table></figure></p>
<p>这种操作在%格式化中就不支持。</p>
<ul>
<li>不能很好的支持数组<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">22</span>]: msg = (<span class="string">'hello'</span>, <span class="string">'world'</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">23</span>]: <span class="string">'greetings: %s'</span> %  msg</span><br><span class="line">---------------------------------------------------------------------------</span><br><span class="line">TypeError                                 Traceback (most recent call last)</span><br><span class="line">&lt;ipython-input<span class="number">-23</span><span class="number">-89</span>d1cae1b269&gt; <span class="keyword">in</span> &lt;module&gt;()</span><br><span class="line">----&gt; 1 'greetings: %s' %  msg</span><br><span class="line"></span><br><span class="line">TypeError: <span class="keyword">not</span> all arguments converted during string formatting</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>得这样写才行：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">24</span>]: <span class="string">'greetings: %s'</span> %  (msg, )</span><br><span class="line">Out[<span class="number">24</span>]: <span class="string">"greetings: ('hello', 'world')"</span></span><br></pre></td></tr></table></figure></p>
<h4 id="str-format缺点"><a href="#str-format缺点" class="headerlink" title="str.format缺点"></a>str.format缺点</h4><p>str.format()的出现是为了解决%格式化的一些问题。尤其是其可以通过<code>__format__</code>方法来很好的格式化对象。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">28</span>]: <span class="class"><span class="keyword">class</span> <span class="title">Date</span>:</span></span><br><span class="line">    ...:     <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, year, month, day)</span>:</span></span><br><span class="line">    ...:         self.year = year</span><br><span class="line">    ...:         self.month = month</span><br><span class="line">    ...:         self.day = day</span><br><span class="line">    ...:     <span class="function"><span class="keyword">def</span> <span class="title">__format__</span><span class="params">(self, date)</span>:</span></span><br><span class="line">    ...:         fmt = <span class="string">'&#123;d.year&#125;-&#123;d.month&#125;-&#123;d.day&#125;'</span></span><br><span class="line">    ...:         <span class="keyword">return</span> fmt.format(d=self)</span><br><span class="line">    ...:     </span><br><span class="line"></span><br><span class="line">In [<span class="number">29</span>]: d = Date(<span class="number">2019</span>, <span class="number">10</span>, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">30</span>]: <span class="string">'d: %s'</span> % d</span><br><span class="line">Out[<span class="number">30</span>]: <span class="string">'d: &lt;__main__.Date object at 0x7fd7081d2128&gt;'</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">31</span>]: <span class="string">'d: &#123;&#125;'</span>.format(d)</span><br><span class="line">Out[<span class="number">31</span>]: <span class="string">'d: 2019-10-1'</span></span><br></pre></td></tr></table></figure></p>
<p>但是format也有问题，它写起来实在是太长太冗余了。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">33</span>]: value = <span class="number">100</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">34</span>]: <span class="string">'The value is &#123;value&#125;'</span>.format(value=value)</span><br><span class="line">Out[<span class="number">34</span>]: <span class="string">'The value is 100'</span></span><br></pre></td></tr></table></figure></p>
<p>即便是简化的写法也依旧看着不爽：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">36</span>]: <span class="string">'The value is &#123;&#125;'</span>.format(value)</span><br><span class="line">Out[<span class="number">36</span>]: <span class="string">'The value is 100'</span></span><br></pre></td></tr></table></figure></p>
<p>但是通过f-strings, 这样就可以了！<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">37</span>]: <span class="string">f'The value is <span class="subst">&#123;value&#125;</span>'</span></span><br><span class="line">Out[<span class="number">37</span>]: <span class="string">'The value is 100'</span></span><br></pre></td></tr></table></figure></p>
<p>如果你觉得format也还行，看着不算麻烦的话，那么这样呢：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">40</span>]: <span class="string">f'<span class="subst">&#123;date&#125;</span> was on a <span class="subst">&#123;date:%A&#125;</span>'</span></span><br><span class="line">Out[<span class="number">40</span>]: <span class="string">'2019-10-01 was on a Tuesday'</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">41</span>]: <span class="string">'&#123;date&#125; was on a  &#123;date:%A&#125;'</span>.format(date=date)</span><br><span class="line">Out[<span class="number">41</span>]: <span class="string">'2019-10-01 was on a  Tuesday'</span></span><br></pre></td></tr></table></figure></p>
<h4 id="f-strings更快"><a href="#f-strings更快" class="headerlink" title="f-strings更快"></a>f-strings更快</h4><p>f-strings不仅仅是使用清爽简洁，其性能也比前两者更优：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">51</span>]: timeit.timeit(</span><br><span class="line">    ...: <span class="string">"""</span></span><br><span class="line"><span class="string">    ...: year='2019'</span></span><br><span class="line"><span class="string">    ...: month='10'</span></span><br><span class="line"><span class="string">    ...: day='1'</span></span><br><span class="line"><span class="string">    ...: "%s-%s-%s" % (year, month, day)</span></span><br><span class="line"><span class="string">    ...: """</span>, number = <span class="number">10000</span>)</span><br><span class="line">Out[<span class="number">51</span>]: <span class="number">0.0025887310002872255</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">52</span>]: timeit.timeit(</span><br><span class="line">    ...: <span class="string">"""</span></span><br><span class="line"><span class="string">    ...: year='2019'</span></span><br><span class="line"><span class="string">    ...: month='10'</span></span><br><span class="line"><span class="string">    ...: day='1'</span></span><br><span class="line"><span class="string">    ...: "&#123;&#125;-&#123;&#125;-&#123;&#125;".format(year, month, day)</span></span><br><span class="line"><span class="string">    ...: """</span>, number = <span class="number">10000</span>)</span><br><span class="line">Out[<span class="number">52</span>]: <span class="number">0.003965387999414816</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">53</span>]: timeit.timeit(</span><br><span class="line">    ...: <span class="string">"""</span></span><br><span class="line"><span class="string">    ...: year='2019'</span></span><br><span class="line"><span class="string">    ...: month='10'</span></span><br><span class="line"><span class="string">    ...: day='1'</span></span><br><span class="line"><span class="string">    ...: f"&#123;year&#125;-&#123;month&#125;-&#123;day&#125;"</span></span><br><span class="line"><span class="string">    ...: """</span>, number = <span class="number">10000</span>)</span><br><span class="line">Out[<span class="number">53</span>]: <span class="number">0.0011757640004361747</span></span><br></pre></td></tr></table></figure></p>
<p>f-strings快了一倍不止。</p>
<h3 id="f-strings简单介绍"><a href="#f-strings简单介绍" class="headerlink" title="f-strings简单介绍"></a>f-strings简单介绍</h3><p>f-strings使用很简单，在字符串前面加上’f’或者’F’就可以了，两者是等价的。</p>
<h4 id="转义字符"><a href="#转义字符" class="headerlink" title="转义字符"></a>转义字符</h4><p>f-strings不支持使用backslash转义，以下方式会报错：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">2</span>]: <span class="string">f'<span class="subst">&#123;\<span class="string">'quoted string\'&#125;'</span></span></span></span><br><span class="line"><span class="string"><span class="subst">  File <span class="string">"&lt;ipython-input-2-2b22b2413d58&gt;"</span>, line <span class="number">1</span></span></span></span><br><span class="line"><span class="string"><span class="subst">    <span class="string">f'<span class="subst">&#123;\<span class="string">'quoted string\'&#125;'</span></span></span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string"><span class="subst">                          ^</span></span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string"><span class="subst">SyntaxError: f-string expression part cannot include a backslash</span></span></span></span></span><br></pre></td></tr></table></figure></p>
<p>要想引用字符串，需要这样写：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">3</span>]: <span class="string">f'<span class="subst">&#123;<span class="string">"quoted string"</span>&#125;</span>'</span></span><br><span class="line">Out[<span class="number">3</span>]: <span class="string">'quoted string'</span></span><br></pre></td></tr></table></figure></p>
<p>要想输出花括号，需要输入双数层才行：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">5</span>]: <span class="string">f'<span class="subst">&#123;&#123;<span class="number">100</span>&#125;</span>&#125;'</span></span><br><span class="line">Out[<span class="number">5</span>]: <span class="string">'&#123;100&#125;'</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">6</span>]: <span class="string">f'<span class="subst">&#123;&#123;&#123;<span class="number">100</span>&#125;</span>&#125;&#125;'</span></span><br><span class="line">Out[<span class="number">6</span>]: <span class="string">'&#123;100&#125;'</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">7</span>]: <span class="string">f'<span class="subst">&#123;&#123;&#123;&#123;<span class="number">100</span>&#125;</span>&#125;&#125;&#125;'</span></span><br><span class="line">Out[<span class="number">7</span>]: <span class="string">'&#123;&#123;100&#125;&#125;'</span></span><br></pre></td></tr></table></figure></p>
<p>raw-string只需在f前或者后加上r即可：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">10</span>]: <span class="string">f'x=<span class="subst">&#123;<span class="number">100</span>&#125;</span>\n'</span></span><br><span class="line">Out[<span class="number">10</span>]: <span class="string">'x=100\n'</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">11</span>]: <span class="string">fr'x=<span class="subst">&#123;<span class="number">100</span>&#125;</span>\n'</span></span><br><span class="line">Out[<span class="number">11</span>]: <span class="string">'x=100\\n'</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">12</span>]: <span class="string">rf'x=<span class="subst">&#123;<span class="number">100</span>&#125;</span>\n'</span></span><br><span class="line">Out[<span class="number">12</span>]: <span class="string">'x=100\\n'</span></span><br></pre></td></tr></table></figure></p>
<h4 id="表达式执行"><a href="#表达式执行" class="headerlink" title="表达式执行"></a>表达式执行</h4><p>表达式会依据f-strings所在的上下文来执行，这意味着表达式可以访问局部和全局变量。任意合法的Python表达式均可以执行，包括函数和类方法。<br>以下两种是等价的：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">14</span>]: <span class="function"><span class="keyword">def</span> <span class="title">hello</span><span class="params">(name)</span>:</span></span><br><span class="line">    ...:     <span class="keyword">return</span> <span class="string">'hello'</span> + name</span><br><span class="line">    ...: </span><br><span class="line"></span><br><span class="line">In [<span class="number">15</span>]: str(hello(<span class="string">'October'</span>))</span><br><span class="line">Out[<span class="number">15</span>]: <span class="string">'helloOctober'</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">17</span>]: <span class="string">f'<span class="subst">&#123;hello(<span class="string">"October"</span>)&#125;</span>'</span></span><br><span class="line">Out[<span class="number">17</span>]: <span class="string">'helloOctober'</span></span><br></pre></td></tr></table></figure></p>
<p>又比如执行字典推倒式：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">18</span>]: <span class="string">f'result = <span class="subst">&#123; &#123;k:v <span class="keyword">for</span> (k,v) <span class="keyword">in</span> ((<span class="number">1</span>, <span class="number">2</span>), (<span class="number">3</span>, <span class="number">4</span>))&#125;</span> &#125;'</span></span><br><span class="line">Out[<span class="number">18</span>]: <span class="string">'result = &#123;1: 2, 3: 4&#125;'</span></span><br></pre></td></tr></table></figure></p>
<h4 id="与str-format的区别"><a href="#与str-format的区别" class="headerlink" title="与str.format的区别"></a>与str.format的区别</h4><p>f-strings与str.format功能基本兼容，但是在字典取值时有一个注意的地方：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">28</span>]: d = &#123;<span class="string">'a'</span>: <span class="number">10</span>, <span class="string">'b'</span>: <span class="number">20</span>&#125;</span><br><span class="line"></span><br><span class="line">In [<span class="number">29</span>]: <span class="string">'&#123;d[a]&#125;'</span>.format(d=d)</span><br><span class="line">Out[<span class="number">29</span>]: <span class="string">'10'</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">30</span>]: <span class="string">f'<span class="subst">&#123;d[<span class="string">"a"</span>]&#125;</span>'</span></span><br><span class="line">Out[<span class="number">30</span>]: <span class="string">'10'</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">31</span>]: a = <span class="string">'b'</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">32</span>]: <span class="string">'&#123;d[a]&#125;'</span>.format(d=d)</span><br><span class="line">Out[<span class="number">32</span>]: <span class="string">'10'</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">33</span>]: <span class="string">f'<span class="subst">&#123;d[<span class="string">"a"</span>]&#125;</span>'</span></span><br><span class="line">Out[<span class="number">33</span>]: <span class="string">'10'</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">34</span>]: <span class="string">f'<span class="subst">&#123;d[a]&#125;</span>'</span></span><br><span class="line">Out[<span class="number">34</span>]: <span class="string">'20'</span></span><br></pre></td></tr></table></figure></p>
<p>f-string要指定从字典中取键’a’，需要加上引号。</p>
</div><div class="tags"><a href="/tags/Python/">Python</a></div><div class="post-share"><div class="bdsharebuttonbox"><span style="float:left;line-height: 28px;height: 28px;font-size:16px;font-weight:blod">分享到：</span><a href="#" data-cmd="more" class="bds_more"></a><a href="#" data-cmd="mshare" title="分享到一键分享" class="bds_mshare"></a><a href="#" data-cmd="fbook" title="分享到Facebook" class="bds_fbook"></a><a href="#" data-cmd="twi" title="分享到Twitter" class="bds_twi"></a><a href="#" data-cmd="linkedin" title="分享到linkedin" class="bds_linkedin"></a><a href="#" data-cmd="youdao" title="分享到有道云笔记" class="bds_youdao"></a><a href="#" data-cmd="evernotecn" title="分享到印象笔记" class="bds_evernotecn"></a><a href="#" data-cmd="weixin" title="分享到微信" class="bds_weixin"></a><a href="#" data-cmd="qzone" title="分享到QQ空间" class="bds_qzone"></a><a href="#" data-cmd="tsina" title="分享到新浪微博" class="bds_tsina"></a></div></div><div class="post-nav"><a href="/2019/09/17/Python-dictionary-implementation/" class="next">【译】Python dictionary implementation</a></div><div id="comments"><div id="disqus_thread"></div></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">Contents</i></div><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#为什么你要用f-strings"><span class="toc-text">为什么你要用f-strings</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#格式化缺点"><span class="toc-text">%格式化缺点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#str-format缺点"><span class="toc-text">str.format缺点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#f-strings更快"><span class="toc-text">f-strings更快</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#f-strings简单介绍"><span class="toc-text">f-strings简单介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#转义字符"><span class="toc-text">转义字符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#表达式执行"><span class="toc-text">表达式执行</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#与str-format的区别"><span class="toc-text">与str.format的区别</span></a></li></ol></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/09/26/Python3-6-f-string/">Python3.6 f-string</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/09/17/Python-dictionary-implementation/">【译】Python dictionary implementation</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/05/26/simple-analysis-of-eventlet/">simple analysis of eventlet</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/05/11/996-lay-off-middle-crisis/">996&lay off&middle crisis</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/27/MongoDB-usage-of-common-apis/">MongoDB: usage of common apis</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/21/Redis-usage-of-common-apis/">Redis: usage of common apis</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/25/Dive-into-Algorithm-quicksort/">Dive into Algorithm:quicksort</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/18/Dive-into-Python-singleton/">Dive into Python: singleton</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/05/Dive-into-flask-principle-of-Context/">Dive into flask: principle of Context</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/11/30/Dive-into-flask-the-journey-of-one-request/">Dive into flask: journey of one request</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-gui"> Categories</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Life/">Life</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/编程/">编程</a><span class="category-list-count">3</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> Tags</i></div><div class="tagcloud"><a href="/tags/MongoDB/" style="font-size: 15px;">MongoDB</a> <a href="/tags/Algorithm/" style="font-size: 15px;">Algorithm</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/Flask/" style="font-size: 15px;">Flask</a> <a href="/tags/life/" style="font-size: 15px;">life</a> <a href="/tags/Django/" style="font-size: 15px;">Django</a> <a href="/tags/Redis/" style="font-size: 15px;">Redis</a> <a href="/tags/Openstack/" style="font-size: 15px;">Openstack</a> <a href="/tags/Eventlet/" style="font-size: 15px;">Eventlet</a> <a href="/tags/生活/" style="font-size: 15px;">生活</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> Archive</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li></ul></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">Baidu Site Haritası</a> |  <a href="/atom.xml">RSS</a> |  <a href="/about/">About</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次</p><p><span> Copyright &copy;<a href="/." rel="nofollow">Johoo.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript" src="/js/search.json.js?v=2.0.1"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.1" async></script><script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":["mshare","weixin","tsina","qzone","linkedin","fbook","twi","print","renren","sqq","evernotecn","bdysc","tqq","tqf","bdxc","kaixin001","tieba","douban","bdhome","thx","ibaidu","meilishuo","mogujie","diandian","huaban","duitang","hx","fx","youdao","sdo","qingbiji","people","xinhua","mail","isohu","yaolan","wealink","ty","iguba","h163","copy"],"bdPic":"","bdStyle":"1","bdSize":"16"},"share":{},"image":{"viewList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"],"viewText":"分享到：","viewSize":"16"},"selectShare":{"bdContainerClass":null,"bdSelectMiniList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"]}};with(document)0[(getElementsByTagName('head')[0]||head).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script><script>var disqus_shortname = 'johoo';
var disqus_identifier = '2019/09/26/Python3-6-f-string/';
var disqus_title = 'Python3.6 f-string';
var disqus_url = 'https://johoo26.github.io/2019/09/26/Python3-6-f-string/';
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//johoo.disqus.com/count.js" async></script><script type="text/javascript" src="//johoo.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></body></html>