{"title":"beginner to Django 5","slug":"beginner-to-Django-5","date":"2018-11-21T00:17:00.000Z","updated":"2018-11-22T14:49:09.114Z","comments":true,"path":"api/articles/beginner-to-Django-5.json","photos":[],"link":"","excerpt":null,"covers":null,"content":"<p>接下来要介绍静态文件的使用：添加CSS和背景图片。</p>\n<p><code>django.contrib.staticfiles</code>这个应用（在INSTALLED_APPS中）从每个应用中搜集静态文件并放到同一个位置以用于生产环境。Django的<code>STATICFILES_FINDERS</code>设置包含一系列用来搜寻静态文件的工具，其中默认的是AppDirectoriesFinder, 其会在每个应用中寻找叫做static的子目录。因此，在polls目录下建立一个子目录static, 出于名称空间的考虑，在其中再建立一个polls子目录，而后在子目录中创建文件style.css:</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* polls/static/polls/style.css */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-tag\">li</span> <span class=\"selector-tag\">a</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: green;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>接着将样式加到polls/templates/polls/index.htm中：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% load static %&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">\"stylesheet\"</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text/css\"</span> <span class=\"attr\">href</span>=<span class=\"string\">\"&#123;% static  'polls/style.css' %&#125;\"</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>启动服务，访问<a href=\"http://localhost:8000/polls/\" target=\"_blank\" rel=\"noopener\">http://localhost:8000/polls/</a>  可以看到最新效果。</p>\n<p>“% static %” 用于生成静态文件的绝对路经。</p>\n<p>而后在polls/statis/polls中再建立一个子目录：images, 在其中放入一张图片:background.gif, 而后更新样式:</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">li</span> <span class=\"selector-tag\">a</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: green;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-tag\">body</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: white <span class=\"built_in\">url</span>(<span class=\"string\">'images/background.gif'</span>) no-repeat;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>启动服务，访问<a href=\"http://localhost:8000/polls/\" target=\"_blank\" rel=\"noopener\">http://localhost:8000/polls/</a> ，可以看到背景图片展示在左上角。</p>\n","categories":[],"tags":[{"name":"Python","slug":"Python","count":7,"path":"api/tags/Python.json"},{"name":"Django","slug":"Django","count":6,"path":"api/tags/Django.json"}]}